{"paragraphs":[{"title":"1.초기설정","text":"import java.sql.Connection\nimport java.sql.Statement\nimport java.sql.DriverManager\n// val url = \"jdbc:mysql://database-1.c3ucbmcnj8sv.ap-northeast-2.rds.amazonaws.com:3306/awsdb?characterEncoding=UTF-8\"\nval url = \"jdbc:mysql://database-2.c3ucbmcnj8sv.ap-northeast-2.rds.amazonaws.com:3306/aws?characterEncoding=UTF-8\"\nval user: String =\"admin\"\nval pass: String=\"Root123!\" \nval bucketName=\"awskrug-data-njkwon\"\n\nval prop = new java.util.Properties\nprop.setProperty(\"driver\", \"com.mysql.jdbc.Driver\")\nprop.setProperty(\"user\", user)\nprop.setProperty(\"password\",pass) \n\n","user":"anonymous","dateUpdated":"2019-09-27T00:42:46+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import java.sql.Connection\nimport java.sql.Statement\nimport java.sql.DriverManager\nurl: String = jdbc:mysql://database-2.c3ucbmcnj8sv.ap-northeast-2.rds.amazonaws.com:3306/aws?characterEncoding=UTF-8\nuser: String = admin\npass: String = Root123!\nbucketName: String = awskrug-data-njkwon\nprop: java.util.Properties = {user=admin, password=Root123!, driver=com.mysql.jdbc.Driver}\nres63: Object = null\n"}]},"apps":[],"jobName":"paragraph_1569251114898_599700260","id":"20190923-150514_1060220031","dateCreated":"2019-09-23T15:05:14+0000","dateStarted":"2019-09-26T15:00:25+0000","dateFinished":"2019-09-26T15:00:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:13403"},{"title":"2.order_info.csv db insert","text":"val orderInfoDF = spark.read.\noption(\"header\",\"true\").\noption(\"inferSchema\", \"true\").\ncsv(\"s3://\"+bucketName+\"/order_info.csv\")","user":"anonymous","dateUpdated":"2019-09-27T00:42:49+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"orderInfoDF: org.apache.spark.sql.DataFrame = [timestamp: timestamp, user_id: string ... 3 more fields]\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=88","http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=89"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1569250372540_-1766077477","id":"20190923-145252_256979512","dateCreated":"2019-09-23T14:52:52+0000","dateStarted":"2019-09-26T15:00:36+0000","dateFinished":"2019-09-26T15:00:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13404"},{"title":"3.csv 데이터 확인","text":"orderInfoDF.show","user":"anonymous","dateUpdated":"2019-09-27T00:42:54+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1569506641697_-1851129065","id":"20190926-140401_1911059347","dateCreated":"2019-09-26T14:04:01+0000","dateStarted":"2019-09-26T14:40:40+0000","dateFinished":"2019-09-26T14:40:41+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:13405"},{"title":"4.Schema 확인","text":"orderInfoDF.printSchema","user":"anonymous","dateUpdated":"2019-09-27T00:43:05+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1569250866442_53027547","id":"20190923-150106_1561853165","dateCreated":"2019-09-23T15:01:06+0000","dateStarted":"2019-09-26T14:27:15+0000","dateFinished":"2019-09-26T14:27:15+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:13406"},{"title":"5.csv 파일 데이터 -> RDS","text":"\nval table1 = \"datalab.order_info\"\norderInfoDF.write.mode(\"overwrite\").jdbc(url, table1, prop)","user":"anonymous","dateUpdated":"2019-09-27T00:43:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"table1: String = aws.order_info\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=90"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1569250375638_-731963078","id":"20190923-145255_1633679636","dateCreated":"2019-09-23T14:52:55+0000","dateStarted":"2019-09-26T15:08:01+0000","dateFinished":"2019-09-26T15:08:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13407"},{"title":"6.user_info.csv db insert ","text":"val userInfoDF = spark.read.option(\"header\",\"true\").\noption(\"inferSchema\", \"true\").\ncsv(\"s3://\"+bucketName+\"/user_info.csv\")","user":"anonymous","dateUpdated":"2019-09-27T00:43:14+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1569250456681_1099126376","id":"20190923-145416_568210355","dateCreated":"2019-09-23T14:54:16+0000","dateStarted":"2019-09-26T15:08:57+0000","dateFinished":"2019-09-26T15:08:58+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:13408"},{"title":"7.csv 파일 스키마 확인","text":"userInfoDF.printSchema","user":"anonymous","dateUpdated":"2019-09-27T00:43:24+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1569251052217_-1585675668","id":"20190923-150412_1707319570","dateCreated":"2019-09-23T15:04:12+0000","dateStarted":"2019-09-26T15:09:04+0000","dateFinished":"2019-09-26T15:09:04+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:13409"},{"title":"8.데이터확인","text":"userInfoDF.show","user":"anonymous","dateUpdated":"2019-09-27T00:43:28+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1569293230694_2044427739","id":"20190924-024710_704339737","dateCreated":"2019-09-24T02:47:10+0000","dateStarted":"2019-09-26T15:09:07+0000","dateFinished":"2019-09-26T15:09:08+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:13410"},{"title":"9.csv 파일 데이터 -> RDS ","text":"val table2 = \"datalab.user_info\"\n\n\nuserInfoDF.write.mode(\"overwrite\").jdbc(url, table2, prop)","user":"anonymous","dateUpdated":"2019-09-27T00:43:32+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"table2: String = aws.user_info\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=94"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1569251062110_797186870","id":"20190923-150422_493327875","dateCreated":"2019-09-23T15:04:22+0000","dateStarted":"2019-09-26T15:09:16+0000","dateFinished":"2019-09-26T15:09:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13411"},{"title":"10.shop_info csv to parquet","text":"val shopInfoDF = spark.read.option(\"header\",\"true\").\noption(\"inferSchema\", \"true\").\ncsv(\"s3://\"+bucketName+\"/shop_info.csv\").write.option(\"codec\",\"snappy\").mode(\"overwrite\").parquet(\"s3://\"+bucketName+\"/parquet/shop_info\")","user":"anonymous","dateUpdated":"2019-09-27T00:43:37+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"shopInfoDF: Unit = ()\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=104","http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=105","http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=106"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1569293117646_-984520653","id":"20190924-024517_1404513136","dateCreated":"2019-09-24T02:45:17+0000","dateStarted":"2019-09-26T15:11:49+0000","dateFinished":"2019-09-26T15:11:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13412"},{"title":"11.goods_info csv to parquet","text":"spark.read.option(\"header\",\"true\").\noption(\"inferSchema\", \"true\").\ncsv(\"s3://\"+bucketName+\"/goods_info.csv\").write.option(\"codec\",\"snappy\").mode(\"overwrite\").parquet(\"s3://\"+bucketName+\"/parquet/goods_info\")","user":"anonymous","dateUpdated":"2019-09-27T00:43:42+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=101","http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=102","http://ip-172-31-3-26.ap-northeast-2.compute.internal:4040/jobs/job?id=103"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1569293458173_121793539","id":"20190924-025058_234638219","dateCreated":"2019-09-24T02:50:58+0000","dateStarted":"2019-09-26T15:11:46+0000","dateFinished":"2019-09-26T15:11:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13413"},{"user":"anonymous","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1569293544828_-623490323","id":"20190924-025224_577920266","dateCreated":"2019-09-24T02:52:24+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:13414"}],"name":"Datalab-Zeppelin_notebook","id":"2ENRP8A7R","noteParams":{},"noteForms":{},"angularObjects":{"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}